package{	import app.Background;	import app.Logo;	import app.MenuButtonMain;	import app.NavigationFooterBar;	import app.NavigationMainBar;		import com.greensock.*;	import com.greensock.easing.*;	import com.greensock.events.LoaderEvent;	import com.greensock.loading.*;	import com.greensock.loading.display.*;		import fl.events.*;		import flash.display.*;	import flash.events.*;	import flash.text.*;
			public class main extends MovieClip	{		//Tiled baggrund		var tiledBg:BitmapData=new Tile(0,0);		var bg:Sprite = new Sprite();				//Bund sort baggrund		var line:Sprite = new Sprite();				//		private var _stageW:int;		private var _stageH:int;				//Loadermax object		var _loader:LoaderMax;		//SWFloader object til main		var _mainSWF:SWFLoader;				var bgMain:Background = new Background();				var _logo:MovieClip = new Logo();										public function main()		{			OverwriteManager.init();			addEventListener(Event.ADDED_TO_STAGE, onAddedToStage, false, 0, true);			addEventListener("statusChanged", show);			addEventListener("statusChangedBack", hide);		}				private function init ():void{					createNavigation();		//stage.addEventListener(Event.RESIZE, handleStageResize);				//	createNavigation();								}		private function onAddedToStage(e:Event):void{			stage.scaleMode = StageScaleMode.NO_SCALE;			stage.align = StageAlign.TOP_LEFT;			removeEventListener(Event.ADDED_TO_STAGE, onAddedToStage);			createMainBackground();			createMainAssets();			createMainLogo();						_loader = new LoaderMax({name:"mainQueue",onProgress:progressHandler, onComplete:completeHandler, noCache:true, dispose:false});			_mainSWF = new SWFLoader("main.swf", {name:"mainSWF"});						stage.addEventListener(Event.RESIZE, handleStageResize, false, 0, true);			//_stageW = Math.round(stage.stageWidth);			//_stageH = Math.round(stage.stageHeight);					//loadXML();			//onStageResize();									_loader.append( _mainSWF );			_loader.load();					}			private function loaderInitHandler(event:LoaderEvent):void {						//loaderSquare.visible=true;											}				private function progressHandler(event:LoaderEvent):void {			trace("progress: " + event.target.progress);					this.progress_mc.progressBar_mc.scaleX = event.target.progress;		}				private function completeHandler(event:LoaderEvent):void {			//TweenLite.to(loaderSquare,1,{alpha:0, ease:Expo.easeIn});			init();			//createListeners();			gotoAndPlay(2);		}						private function errorHandler(event:LoaderEvent):void {					}								private function createNavigation():void{						var appData:Array = ["Work", "About"];			var navBar:NavigationMainBar = new NavigationMainBar(appData);			addChild(navBar);						var appFooterData:Array = ["Client area", "Empty area", "Share site"]			var navFooterBar:NavigationFooterBar = new NavigationFooterBar(appFooterData);			addChild(navFooterBar);							//Baggrund rollover			addChildAt(bgMain,2);										}		private function show(e:Event):void{			bgMain.gotoAndPlay(2);			bgMain.visible=true;								}		private function hide(e:Event):void{			bgMain.visible=false;			bgMain.gotoAndStop(1);								}				private function createMainLogo():void{			_logo.x=57;			_logo.y=31;			addChildAt(_logo,2);			//buttonMode=true;					}								private function createMainBackground():void{			bg.graphics.beginBitmapFill(tiledBg, null, true, false);			bg.graphics.drawRect(0, 0, stage.stageWidth, stage.stageHeight);			bg.graphics.endFill();			bg.alpha=0.3;			addChildAt(bg,0);					}		private function createMainAssets():void{						line.graphics.beginFill(0x000000,1);			line.graphics.drawRect(0,stage.stageHeight-22,stage.stageWidth,22);			line.graphics.endFill();			addChild(line);								}	//UTILITY: StageResize						private function handleStageResize(e:Event):void{			_stageW=stage.stageWidth;			_stageH=stage.stageHeight;						bg.graphics.clear()			bg.graphics.beginBitmapFill(tiledBg, null, true, false);			bg.graphics.drawRect(0, 0, stage.stageWidth, stage.stageHeight);			bg.graphics.endFill();						line.graphics.clear();			line.graphics.beginFill(0x000000,1);			line.graphics.drawRect(0,stage.stageHeight-15,stage.stageWidth,15);			line.graphics.endFill();		}			}//class}//package